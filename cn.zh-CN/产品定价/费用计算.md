# 费用计算 {#concept_54510_zh .concept}

小明是一个在杭州的创业者，主要做的一款直播社交应用。目前每日线上有主播100人，平均每个主播每日直播1个小时，每个主播平均在线观看人数在1000人左右。因为主播直播的方式不一致，有的在手机上，有的在PC上，但是观看都是在手机应用上，为了保证视频质量的统一，需要对每一路视频进行标准转码。直播完成后，小明希望能将直播的视频录制下来方便用户进行回看。小明想使用阿里云的直播服务，想要了解如何使用直播产品才是性价比最优的方式。

## 案例分析 { .section}

从案例中了解到小明会使用直播服务的功能有: 直播流量、直播转码、直播录制、直播存储。

计费方式有：直播流量计费、转码时长计费、直播存储OSS费用。

**说明：** 以下单价来自2017年6月20日阿里云官网发布的直播服务的详细价格信息。单价的变动请以阿里云官网发布的数据为准。

## 计算规则 { .section}

假设小明选择的转码模板是窄带高清™ 转码。所有直播的视频均录制。

## 首先我们需要知道计算的几个细节： { .section}

|数据|数量|
|:-|:-|
|并发推流个数 （个）|100|
|直播并发观看人数（个）|1000|
|直播时长（小时）|1|
|转码后的视频码率 （Mbps）|0.5|
|转码前的视频码率（Mbps）|1|

根据以上表格中的内容需要计算出以下数据：

-   用量预估：直播分为按量计费与按峰值带宽计费，用来预估方式分别如下：

    -   流量预估： 假设1000人同时在线并同时观看视频1小时，流量计算方式为：

        \[1000（人）\] \*\* X \[0.5（视频码率Mbps）\] X \[3600（观看时间／秒）\]\*\* ➗ \*\*\[1024 ➗ 8（将Mbps换算为GB）\] \*\*= 219.7GB

    -   带宽峰值预估： 假设1000人同时在线并同时观看视频1小时，流量计算方式为：

        \*\*\[1000（人）\] X \[0.5（视频码率Mbps）\] \*\* = 500Mbps

-   存储量预估：假设录制10路视频，每路视频直播1小时，详见OSS计费方式 [介绍]()。

    100（路直播） X 1（视频码率Mbps） X\*\* 3600（观看时间／秒）\*\* ➗ \*\*\[1024 ➗ 8（将Mbps换算为GB）\] \*\* = 43.9GB

    **说明：** 直播录制下来的视频是推流的原始视频，不是转码后的视频。

-   转码时长预估: 假设有10直播使用了转码服务，使用的是窄带高清™ 转码，

    10（路直播） X 60（转码时长／分钟） = 600分钟


## 计算方法 { .section}

-    [流量费用]() 

    -   按量计算：流量阶梯单价 x 流量

        0.29（阶梯流量单价：元／GB）x 219.7（流量：GB） = 63.71 元

    -   按峰值带宽计算：峰值带宽阶梯单价 X 峰值

        1.00（峰值带宽阶梯单价：元／Mbps）X 500 （Mbps） = 500 元

    从小明的直播使用场景来看，选择按量付费更合适。

-    [存储费用](https://www.aliyun.com/price/product#/oss/detail)：存储单价 x 存储量

    0.148（存储单价:元/月） x 43.9（存储量:GB） = 6.5 元／月

-    [转码费用]()：转码单价 X 转码时长

    0.133（窄带高清转码单价：元／分钟） X 600 \(转码时长：分钟\) = 79.8元


总费用

日付费

流量价格 + 转码费用 = 143.51元/日

月付费

存储价格 = 6.5 元／月

